åœ¨ JavaScript ä»£ç æ‰§è¡Œä¹‹å‰ï¼ŒV8 å¼•æ“Žä¼šå¯¹ä»£ç è¿›è¡Œ **è¯æ³•åˆ†æžï¼ˆLexical Analysisï¼‰** å’Œ **è¯­æ³•åˆ†æžï¼ˆParsingï¼‰**ã€‚å¦‚æžœä»£ç åœ¨è¿™äº›é˜¶æ®µå­˜åœ¨é—®é¢˜ï¼Œå°±ä¼šå¼•å‘ **è¯æ³•é”™è¯¯ï¼ˆLexical Errorsï¼‰** æˆ– **è¯­æ³•é”™è¯¯ï¼ˆSyntax Errorsï¼‰**ï¼Œå¯¼è‡´ä»£ç æ— æ³•æ‰§è¡Œã€‚

## **1. è¯æ³•åˆ†æžï¼ˆLexical Analysisï¼‰é˜¶æ®µå¯èƒ½å‡ºçŽ°çš„é”™è¯¯**

è¯æ³•åˆ†æžæ˜¯å°†ä»£ç è½¬æ¢ä¸º **Tokenï¼ˆè¯æ³•å•å…ƒï¼‰** çš„è¿‡ç¨‹ï¼Œ**ä»»ä½•ä¸ç¬¦åˆ JavaScript è¯æ³•è§„åˆ™çš„å­—ç¬¦æˆ–åºåˆ—éƒ½ä¼šå¯¼è‡´é”™è¯¯**ã€‚

### ** 1.1 éžæ³•å­—ç¬¦ï¼ˆIllegal Characterï¼‰**

å¦‚æžœä»£ç ä¸­åŒ…å« **JavaScript è¯­æ³•ä¸å…è®¸çš„å­—ç¬¦**ï¼ŒV8 ä¼šæŠ›å‡º `SyntaxError`ã€‚

```js
console.log(â€˜Helloâ€™); // âŒ ä½¿ç”¨äº† `â€˜`ï¼ˆå…¨è§’å•å¼•å·ï¼‰ï¼Œä¼šå¯¼è‡´ SyntaxError
```

ðŸ”¹ **åŽŸå› **ï¼š

- JavaScript ä»…æ”¯æŒ **æ ‡å‡†çš„ ASCII æ ‡ç‚¹ç¬¦å·**ï¼Œä½¿ç”¨ä¸­æ–‡å­—ç¬¦æˆ–ç‰¹æ®Šç¬¦å·ï¼ˆå¦‚å…¨è§’ `â€˜â€™`ï¼‰ä¼šå¯¼è‡´ `SyntaxError`ã€‚

---

### **1.2 å…³é”®è¯ï¼ˆKeywordï¼‰è¯¯ç”¨**

JavaScript å…³é”®å­—ï¼ˆå¦‚ `var`, `let`, `class`, `function`, `return`ï¼‰ä¸èƒ½ç”¨ä½œå˜é‡æˆ–å‡½æ•°åã€‚

```js
let let = 10; // âŒ SyntaxError: Unexpected token 'let'
```

ðŸ”¹ **åŽŸå› **ï¼š

- `let` æ˜¯ JavaScript å…³é”®å­—ï¼Œä¸èƒ½ç”¨ä½œå˜é‡åã€‚

---

### ** 1.3 æ ‡è¯†ç¬¦é”™è¯¯**

- å˜é‡åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼š

```js
let 1var = 100; // âŒ SyntaxError: Unexpected number
```

- å˜é‡åä¸èƒ½åŒ…å«ç‰¹æ®Šç¬¦å·ï¼ˆ`$` å’Œ `_` é™¤å¤–ï¼‰ï¼š

```js
let my-var = 10; // âŒ SyntaxError: Unexpected token '-'
```

- å˜é‡åä¸èƒ½ä½¿ç”¨ JavaScript å…³é”®å­—ï¼š

```js
let function = 20; // âŒ SyntaxError
```

---

### **1.4 éžæ³•çš„ Unicode è½¬ä¹‰**

JavaScript å…è®¸ä½¿ç”¨ `\u` è¿›è¡Œ Unicode è½¬ä¹‰ï¼Œä½†æ ¼å¼å¿…é¡»æ­£ç¡®ï¼š

```js
console.log("\u0041"); // âœ… "A"
console.log("\uXYZ1"); // âŒ SyntaxError: Malformed Unicode character escape sequence
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- `\uXYZ1` ä¸æ˜¯æœ‰æ•ˆçš„ Unicode ç ç‚¹æ ¼å¼ã€‚

---

## **2. è¯­æ³•åˆ†æžï¼ˆParsingï¼‰é˜¶æ®µå¯èƒ½å‡ºçŽ°çš„é”™è¯¯**

è¯­æ³•åˆ†æžé˜¶æ®µä¼šæ£€æŸ¥ **ä»£ç ç»“æž„æ˜¯å¦ç¬¦åˆ JavaScript è¯­æ³•è§„åˆ™**ï¼Œå¦‚æžœè¿åè§„åˆ™ï¼Œå°±ä¼šæŠ›å‡º `SyntaxError`ã€‚

---

### **2.1 æ‹¬å·ã€å¼•å·ä¸åŒ¹é…**

```js
console.log("Hello);  // âŒ SyntaxError: Unexpected end of input
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- åŒå¼•å· `"` æ²¡æœ‰æ­£ç¡®é—­åˆï¼Œå¯¼è‡´ JavaScript è§£æžå™¨æ— æ³•åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸç¬¦ã€‚

```js
if (true { console.log("Missing bracket"); } // âŒ SyntaxError
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- `if (true {` çš„ **`(` æ²¡æœ‰ä¸Ž `)` é…å¯¹**ã€‚

---

### **2.2 `return` å…³é”®å­—é”™è¯¯**

JavaScript çš„ `return` è¯­å¥ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ **æ¢è¡Œç¬¦** ä½œä¸ºè¡¨è¾¾å¼ç»“æŸç¬¦ï¼š

```js
function foo() {
  return
  10;  // âŒ SyntaxError: Unexpected number
}
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- JavaScript åœ¨ `return` åŽé‡åˆ°æ¢è¡Œç¬¦ï¼Œä¼šè®¤ä¸º `return` è¯­å¥ç»“æŸï¼Œå› æ­¤ `10` å˜æˆäº†æ— æ•ˆçš„ä»£ç ã€‚

**âœ… æ­£ç¡®å†™æ³•**

```js
function foo() {
  return 10; // âœ…
}
```

---

### ** 2.3 `break` å’Œ `continue` ç”¨æ³•é”™è¯¯**

åœ¨ `for` æˆ– `while` å¾ªçŽ¯å¤–ä½¿ç”¨ `break` æˆ– `continue`ï¼Œä¼šå¯¼è‡´ `SyntaxError`ã€‚

```js
break;  // âŒ SyntaxError: Illegal break statement
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- `break` å¿…é¡»åœ¨ `for` æˆ– `while` å¾ªçŽ¯å†…éƒ¨ä½¿ç”¨ã€‚

---

### **2.4 `await` å…³é”®å­—ç”¨æ³•é”™è¯¯**

`await` åªèƒ½åœ¨ **`async` å‡½æ•°å†…éƒ¨** ä½¿ç”¨ï¼š

```js
await fetch("/api");  // âŒ SyntaxError: await is only valid in async function
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- `await` åªèƒ½åœ¨ `async` ä¿®é¥°çš„å‡½æ•°ä¸­ä½¿ç”¨ã€‚

âœ… **æ­£ç¡®ç”¨æ³•**

```js
async function fetchData() {
  let response = await fetch("/api");
}
```

---

### ** 2.5 `default` è¯­å¥é”™è¯¯**

`switch` è¯­å¥çš„ `default` ä¸èƒ½æ”¾åœ¨ `case` ä¹‹å‰ï¼š

```js
switch (x) {
  default: 
    console.log("default case");
  case 1:
    console.log("case 1"); // âŒ SyntaxError: A case label must come first
}
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- `default` å¿…é¡»æ”¾åœ¨ `case` è¯­å¥çš„ **æœ€åŽ**ã€‚

âœ… **æ­£ç¡®ç”¨æ³•**

```js
switch (x) {
  case 1:
    console.log("case 1");
    break;
  default:
    console.log("default case");
}
```

---

### **2.6 `import` å’Œ `export` è¯­æ³•é”™è¯¯**

åœ¨ JavaScript ES6 æ¨¡å—ï¼ˆESMï¼‰ä¸­ï¼Œ`import` å’Œ `export` åªèƒ½å‡ºçŽ°åœ¨æ¨¡å—çš„é¡¶å±‚ï¼š

```js
if (true) {
  import { x } from "./module.js";  // âŒ SyntaxError: Cannot use import statement outside a module
}
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- `import` è¯­å¥ä¸èƒ½å‡ºçŽ°åœ¨ **ä»£ç å— `{}` å†…**ï¼Œåªèƒ½å‡ºçŽ°åœ¨æ¨¡å—çš„ **æœ€å¤–å±‚**ã€‚

âœ… **æ­£ç¡®ç”¨æ³•**

```js
import { x } from "./module.js"; // âœ… åªèƒ½åœ¨é¡¶å±‚ä½¿ç”¨
```

---

### **2.7 è§£æž„èµ‹å€¼è¯­æ³•é”™è¯¯**

**å¯¹è±¡è§£æž„èµ‹å€¼** éœ€è¦ **æ­£ç¡®çš„æ ‡è¯†ç¬¦åç§°**ï¼š

```js
const { 123name } = obj;  // âŒ SyntaxError: Unexpected number
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- å˜é‡åä¸èƒ½ä»¥ **æ•°å­—å¼€å¤´**ã€‚

âœ… **æ­£ç¡®å†™æ³•**

```js
const { name123 } = obj;  // âœ…
```

---

### **2.8 ç®­å¤´å‡½æ•°ï¼ˆArrow Functionï¼‰è¯­æ³•é”™è¯¯**

ç®­å¤´å‡½æ•°çš„ **å‚æ•°åˆ—è¡¨** å¿…é¡»æ­£ç¡®ï¼š

```js
const foo = x, y => x + y; // âŒ SyntaxError
```

ðŸ”¹ **é”™è¯¯åŽŸå› **ï¼š

- ç®­å¤´å‡½æ•°çš„å‚æ•°å¿…é¡»ç”¨ `()` åŒ…è£¹ã€‚

âœ… **æ­£ç¡®å†™æ³•**

```js
const foo = (x, y) => x + y; // âœ…
```

